# Air Quality Monitor and Health Advisory

## Overview
The **Air Quality Monitor** is an advanced Python application that tracks and analyzes air quality data across various global locations. By utilizing **FastAPI** for efficient API calls and **Gradio** for an interactive user interface, this application provides real-time updates on air quality, health advisories, and actionable recommendations. It also includes features for historical analysis and regional comparisons, making it an essential tool for anyone concerned about air quality.

## Table of Contents
- [Features](#features)
- [Technologies Used](#technologies-used)
- [Getting Started](#getting-started)
  - [Prerequisites](#prerequisites)
  - [Installation](#installation)
- [Usage](#usage)
  - [Running the Application](#running-the-application)
  - [Interacting with the Gradio Interface](#interacting-with-the-gradio-interface)
  - [Data Analytics](#data-analytics)
- [API Keys](#api-keys)
- [Contributing](#contributing)
- [Code of Conduct](#code-of-conduct)
- [License](#license)
- [Acknowledgments](#acknowledgments)

## Features
- **Real-time Air Quality Tracking**: Instant access to air quality data for multiple locations using external APIs.
- **Health Advisories**: Tailored recommendations based on current air quality levels (e.g., wearing masks, staying indoors).
- **Historical Data**: Retrieve and analyze past air quality data for better decision-making.
- **Regional Comparisons**: Compare air quality metrics across different regions to identify trends.
- **Data Analytics**: Visualize and analyze air quality data with graphs and statistics.
- **User-Friendly Interface**: A simple, intuitive Gradio interface for easy interaction with the application.

## Technologies Used
- **Python 3.x**: The primary programming language for the application.
- **FastAPI**: A modern web framework for building APIs with Python, known for its speed and ease of use.
- **Gradio**: A library for creating user interfaces for machine learning and data science applications.
- **Requests**: For making HTTP requests to external APIs.
- **Pandas**: For data manipulation, analysis, and statistical operations.
- **Matplotlib/Seaborn**: For data visualization (optional but recommended).
- **python-dotenv**: For loading environment variables from a `.env` file.

## Getting Started

### Prerequisites
Before you begin, ensure you have the following installed on your machine:
- **Python 3.x**
- **pip** (Python package installer)

You can check if Python is installed by running:
```bash
python --version
```

## Installation

### Clone the repository:
```bash
git clone https://github.com/pycon-rwanda/air-quality-monitor.git
```

### Navigate to the project directory:
```bash
cd air-quality-monitor
```

### Create a virtual environment (optional but recommended):
```bash
python -m venv env
```

#### Activate the virtual environment:

1. on Windows
```bash
env\Scripts\activate
```

2. on Mac OS / Linux
```bash
source env/bin/activate
```

### Install the required dependencies:
```bash
pip install -r requirements.txt
```

## Usage
### Running the Application
To run the FastAPI application, execute the following command in your terminal:

```bash
uvicorn main:app --reload
```

This command starts a development server. You can access the Gradio interface by navigating to http://localhost:7860 in your web browser.

### Interacting with the Gradio Interface
1. Open your web browser and go to http://localhost:7860.
2. Input your location (e.g., "Kigali, RWANDA") in the provided text box.
3. Submit the form to retrieve the current air quality data.
4. View the health advisory based on the air quality index (AQI) returned.
5. Access historical data and regional comparisons through the options available in the interface.


## Data Analytics
The application includes data analytics features that allow you to:

1. Visualize historical air quality data over time.
2. Compare air quality across different regions using statistical methods.
3. Identify trends and patterns in air quality data using graphs.

### To access data analytics:

1. From the Gradio interface, select the analytics option.
2. Choose the data you want to analyze (e.g., historical data for a specific region).
3. View the visualizations or statistical summaries generated by the application.

## API Keys

To access air quality data, you must obtain API keys from the services you intend to use. Follow these steps:

### OpenWeather:
Sign up at [OpenWeather](https://openweathermap.org/) to get your API key.

### AirVisual:
Sign up at [AirVisual](https://www.iqair.com/) to obtain your API key.

Once you have your API keys, create a `.env` file in the root directory of the project and add your keys:

```Makefile
OPENWEATHER_API_KEY=your_openweather_api_key
AIRVISUAL_API_KEY=your_airvisual_api_key
```

##  File Structure

```
air-quality-monitor/
│
├── .env                  # Environment variables for API keys
├── .env.example          # Example of environment variables
├── LICENSE               # License file for the project
├── CODE_OF_CONDUCT.md    # Code of conduct for contributors
├── CONTRIBUTING.md       # Guidelines for contributing
├── README.md             # Project overview and instructions
├── requirements.txt      # List of dependencies
│
├── main.py               # Main FastAPI application
│
├── data/                 # Directory for storing data files (e.g., historical data)
│   └── historical_data.csv # Example of a CSV file for historical data
│
├── analytics/            # Directory for data analytics scripts and functions
│   ├── __init__.py       # Makes this directory a package
│   └── analytics.py      # Functions for analyzing air quality data
│
└── tests/                # Directory for unit tests
    ├── __init__.py       # Makes this directory a package
    └── test_api.py       # Unit tests for FastAPI endpoints
```

### Explanation of the Structure
- .env: Contains sensitive information like API keys. This file should not be shared publicly.
- .env.example: A template for users to understand what environment variables are required.
- LICENSE: Contains the license information for the project.
CODE_OF_CONDUCT.md: Outlines the expected behavior for contributors.
- CONTRIBUTING.md: Provides guidelines on how to contribute to the project.
- README.md: A detailed overview of the project, including features, setup, usage, and contribution guidelines.
- requirements.txt: Lists the Python libraries required for the project.
- main.py: The main entry point for the FastAPI application, where API endpoints and Gradio interface are defined.
- data/: A directory for storing data files, such as historical data.
- analytics/: Contains scripts and functions for performing data analytics on air quality data.
- tests/: Contains unit tests to ensure the functionality of the application.


### Code of Conduct
By participating in this project, you agree to abide by our Code of Conduct.

## License
This project is licensed under the MIT License. See the LICENSE file for more details.

## Acknowledgments
- [OpenWeather](http://openweathermap.org/)
- [AirVisual](https://www.iqair.com/)
- Special thanks to all contributors who help improve this project!